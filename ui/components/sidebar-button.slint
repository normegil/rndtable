import { Palette } from "../palette.slint";
import "../../resources/fonts/lineicons.ttf";

export component SidebarButton inherits Rectangle {
    in-out property <string> icon <=> icon.text;
    in-out property <bool> active;

    height: 47px;
    width: 47px;

    callback clicked;

    ta := TouchArea {
        width: parent.width;
        height: parent.height;
        clicked => {
            root.clicked();
        }
    }

    active-indicator := Rectangle {
        x: 0;
        y: 0;
        
        background: Palette.primary;

        states [
            active when active : {
                width: 3px;
            }
            inactive when !active : {
                width: 0px;
            }
        ]
    }

    icon := Text {
        font-family: "lineicons";
        font-size: 28px;

        animate color { duration: 125ms; }
        states [
            active when active: {
                color: Palette.sidebar-text-active;
            }
            hovered when ta.has-hover: {
                color: Palette.sidebar-text-hover;
            }
            neutral when !active && !ta.has-hover: {
                color: Palette.sidebar-text;
            }
        ]
        
    }
}